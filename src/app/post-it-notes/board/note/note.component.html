<form
  #noteFormDom
  class="note" [formGroup]="noteForm"
  [class.selected]="_note.selected"
  (click)="toTop()"
  (mousedown)="toTop()"
  (dblclick)="startEdit();"
  [style.left.px]="_note.left" [style.top.px]="_note.top" [style.z-index]="_note.zindex">
  <span class='header' [style.background]='color'></span>
  <span>
    Title: <input #titleInput *ngIf='isEditing' type="text" formControlName="title" placeholder="請輸入標題">
            <span *ngIf='!isEditing'>{{ _note.title || '無標題' }}</span>
      <span *ngIf="isEditing"><img (click)="palette.click()" src="assets/palette.png"><input class="hidden" [attr.disabled]="!isEditing ? '' : null" #palette type="color" formControlName="color"></span>
  </span>
  <div class="content-wrapper">
    <div>
      <div
        #contentDisplay
        [style.visibility]="isEditing ? 'hidden': 'visible'"
        [style.padding-bottom.em]="isEditing ? 1 : 0"
        class='content text'>{{content}}</div>

      <textarea
        #contentInput
        *ngIf="isEditing"
        placeholder="Please input something."
        class="content"
        (keydown)="onKeydown($event)"
        [style.height.px]="contentDisplay.scrollHeight"
        formControlName="content"></textarea>

    </div>
  </div>
</form>
